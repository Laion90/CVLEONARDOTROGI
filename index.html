<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Curriculum Vitae - Leonardo Trogi</title>
  <!-- Font -->
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    /* Reset di base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Open Sans', Arial, sans-serif;
      color: #333;
      /* Sfumatura di sfondo */
      background: linear-gradient(to right, #e8f1f8, #f9fafc);
      scroll-behavior: smooth;
    }

    nav {
      background-color: #004085;
      color: #ffffff;
      padding: 15px 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    nav ul {
      list-style: none;
      display: flex;
    }

    nav ul li {
      margin: 0 15px;
    }

    nav ul li a {
      color: #ffffff;
      text-decoration: none;
      font-size: 1em;
      transition: color 0.3s, font-weight 0.3s;
    }

    nav ul li a:hover,
    nav ul li a.active {
      font-weight: bold;
      color: #ffcc00;
      text-decoration: underline;
    }

    .language-switch {
      background: #ffcc00;
      color: #004085;
      font-weight: 600;
      padding: 8px 14px;
      border-radius: 20px;
      cursor: pointer;
      border: 2px solid #003f7f;
      transition: background-color 0.3s, color 0.3s;
    }
    .language-switch:hover {
      background-color: #ffc107;
      color: #002952;
    }

    .container {
      width: 90%;
      max-width: 900px;
      margin: 40px auto;
      background: #ffffff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      animation: fadeIn 1s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1, h2 {
      color: #004085;
      font-weight: 600;
      margin-bottom: 15px;
    }

    h1 {
      text-align: center;
      font-size: 2.2em;
    }

    .section-title {
      font-size: 1.5em;
      border-bottom: 2px solid #004085;
      padding-bottom: 5px;
      margin-bottom: 15px;
    }

    .contact, .section, .footer {
      margin-bottom: 30px;
    }

    .contact p, .section p {
      margin: 5px 0;
      font-size: 0.95em;
    }

    ul {
      list-style-type: disc;
      padding-left: 20px;
      margin-bottom: 10px;
    }

    ul li {
      margin: 5px 0;
      font-size: 0.95em;
    }

    /* Certificazioni con layout griglia */
    .certifications {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .certification {
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      background-color: #f9f9f9;
      font-size: 0.9em;
      text-align: center;
    }

    .certification h3 {
      font-size: 1em;
      color: #004085;
      margin-bottom: 10px;
    }

    .summary {
      font-size: 1em;
      margin-bottom: 20px;
      padding: 15px;
      background: #eef6ff;
      border-left: 5px solid #004085;
    }

    .projects {
      font-size: 0.95em;
      background: #f9f9f9;
      padding: 15px;
      border-radius: 5px;
      border: 1px solid #ddd;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .projects h3 {
      font-size: 1.1em;
      color: #004085;
      margin-bottom: 10px;
    }

    .download {
      text-align: center;
      margin-top: 30px;
    }

    .download a {
      text-decoration: none;
      background-color: #004085;
      color: #fff;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 1em;
      transition: background-color 0.3s ease;
    }
    .download a:hover {
      background-color: #003f7f;
    }

    .highlight {
      animation: highlight 0.5s ease-out;
    }
    @keyframes highlight {
      from {
        background-color: #fffbcc;
      }
      to {
        background-color: transparent;
      }
    }

    .footer {
      text-align: center;
      font-size: 0.85em;
      color: #666;
    }

    @media (max-width: 768px) {
      nav ul li {
          margin: 0 8px;
      }
      .language-switch {
          font-size: 0.9em;
          padding: 6px 12px;
      }
    }
  </style>
</head>
<body>

  <nav>
    <ul>
      <li><a href="#summary" class="nav-link">Profilo</a></li>
      <li><a href="#formazione" class="nav-link">Formazione</a></li>
      <li><a href="#esperienze" class="nav-link">Esperienze</a></li>
      <li><a href="#progetti" class="nav-link">Progetti</a></li>
      <li><a href="#certificazioni" class="nav-link">Certificazioni</a></li>
      <li><a href="#competenze" class="nav-link">Competenze</a></li>
    </ul>
    <!-- Bottone visibile e più grande per lo switch di lingua -->
    <button class="language-switch" id="language-switch">English Version</button>
  </nav>

  <div class="container" id="content">
    <!-- Contenuto Italiano di default -->
    <h1>Leonardo Trogi</h1>
    <div class="contact">
        <p><strong>Indirizzo:</strong> Via Aretina 375, 50136 Firenze (Italia)</p>
        <p><strong>Cellulare:</strong> 3337192024</p>
        <p><strong>Email:</strong> LeonardoTrogi@gmail.com</p>
    </div>

    <div id="summary" class="summary">
        <p><strong>Consulente applicativo e Data Analyst</strong> con esperienza in gestione e integrazione di sistemi ERP, sviluppo di soluzioni personalizzate con SQL Server e analisi dati avanzata. Appassionato di Business Intelligence e ottimizzazione dei processi aziendali per migliorare l'efficienza operativa e supportare decisioni strategiche.</p>
    </div>

    <div id="formazione" class="section">
      <h2 class="section-title">Formazione</h2>
      <ul>
          <li><strong>2022:</strong> Corso Avanzato SQL Server 2019 - SoftPI</li>
          <li><strong>2015-2017:</strong> Master in Auditing, Finanza e Controllo - Università di Pisa</li>
          <li><strong>2010-2015:</strong> Laurea Triennale in Economia e Commercio - Università di Firenze</li>
      </ul>
    </div>

    <div id="esperienze" class="section">
      <h2 class="section-title">Esperienze Professionali</h2>
      <ul>
          <li><strong>System Line SRL (Feb 2022 - Presente):</strong>
              <ul>
                  <li>Consulente applicativo per Teamsystem Alyante e CRM</li>
                  <li>Gestione database e integrazioni SQL Server</li>
                  <li>Esposizione dati per strumenti BI (QlikView, Power BI)</li>
                  <li>Supporto tecnico e sviluppo di soluzioni personalizzate per clienti</li>
              </ul>
          </li>
          <li><strong>Italiana Servizi S.p.A (2019-2022):</strong>
              <ul>
                  <li>Business Analyst e SQL Expert</li>
                  <li>Building Manager</li>
                  <li>Ottimizzazione dei processi aziendali tramite analisi dati</li>
              </ul>
          </li>
      </ul>
    </div>

    <div id="progetti" class="section">
      <h2 class="section-title">Progetti Significativi</h2>
      <div class="projects">
          <h3>Progetti Tecnici:</h3>
          <ul>
              <li>Progettato e implementato un'integrazione tra SQL Server e CRM, riducendo i tempi di elaborazione dati del 30%.</li>
              <li>Creato dashboard BI personalizzate con Power BI per il monitoraggio delle performance aziendali.</li>
              <li>Automatizzato processi di estrazione dati con script Python e integrazioni API REST.</li>
          </ul>
      </div>
    </div>

    <div id="certificazioni" class="section">
      <h2 class="section-title">Certificazioni Teamsystem</h2>
      <div class="certifications">
          <div class="certification">
              <h3>TS Enterprise CRM - Installazione, Sales e Marketing</h3>
          </div>
          <div class="certification">
              <h3>TS Enterprise CRM - Customer Service e Funzionalità Avanzate</h3>
          </div>
          <div class="certification">
              <h3>TS Manufacturing - Factory Control</h3>
          </div>
          <div class="certification">
              <h3>TS Industry 4.0 - WMS</h3>
          </div>
      </div>
    </div>

    <div id="competenze" class="section">
      <h2 class="section-title">Competenze Tecniche</h2>
      <ul>
          <li>SQL Server: Sviluppo e ottimizzazione</li>
          <li>Business Intelligence: Qlik Sense, Power BI</li>
          <li>Integrazione API REST e automazione</li>
          <li>Programmazione: Python, HTML, CSS</li>
          <li>Cloud Computing: Conoscenza di base di Azure e AWS</li>
          <li>Version Control: Git</li>
          <li>Office: Excel avanzato</li>
      </ul>
    </div>

    <div class="download">
      <a href="#" id="download-btn">Scarica CV in PDF</a>
    </div>

    <div class="footer">
      <p>Autorizzo il trattamento dei miei dati personali ai sensi del D.Lgs. 30 giugno 2003, n. 196.</p>
    </div>
  </div>

  <!-- Libreria html2pdf.js da CDN -->
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>

  <script>
    // Riferimenti
    const links = document.querySelectorAll('.nav-link');
    const languageSwitch = document.getElementById('language-switch');
    const content = document.getElementById('content');
    const downloadBtn = document.getElementById('download-btn');

    // Contenuto in Inglese
    const englishContent = `
      <!-- QUI inserisci ESATTAMENTE lo stesso HTML, ma in inglese -->
      <!-- ... omesso per brevità, uguale al tuo con la traduzione ... -->
    `;

    // Contenuto in Italiano
    const italianContent = document.getElementById('content').innerHTML; 
    // Salviamo il markup originale in una variabile, per ripristinarlo se torniamo a IT

    // Scroll + highlight
    links.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const section = document.querySelector(link.getAttribute('href'));
        if (section) {
          section.scrollIntoView({ behavior: 'smooth', block: 'center' });
          section.classList.add('highlight');
          setTimeout(() => section.classList.remove('highlight'), 1000);
          links.forEach(l => l.classList.remove('active'));
          link.classList.add('active');
        }
      });
    });

    // Switch lingua
    let currentLang = 'IT';
    languageSwitch.addEventListener('click', () => {
      if (currentLang === 'IT') {
        // Passa all'inglese
        content.innerHTML = englishContent;
        content.classList.add('fade-in');
        currentLang = 'EN';
        languageSwitch.textContent = 'Versione Italiana';
      } else {
        // Torna all'italiano
        content.innerHTML = italianContent;
        content.classList.add('fade-in');
        currentLang = 'IT';
        languageSwitch.textContent = 'English Version';
      }

      setTimeout(() => {
        content.classList.remove('fade-in');
      }, 1000);

      // Riassegna nav e download
      const newLinks = document.querySelectorAll('.nav-link');
      newLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const section = document.querySelector(link.getAttribute('href'));
          if (section) {
            section.scrollIntoView({ behavior: 'smooth', block: 'center' });
            section.classList.add('highlight');
            setTimeout(() => section.classList.remove('highlight'), 1000);
            newLinks.forEach(l => l.classList.remove('active'));
            link.classList.add('active');
          }
        });
      });

      const newDownloadBtn = document.getElementById('download-btn');
      if (newDownloadBtn) {
        newDownloadBtn.addEventListener('click', downloadPDF);
      }
    });

    // Funzione per generare PDF
    function downloadPDF(e) {
      e.preventDefault();
      const element = document.getElementById('content');
      const opt = {
        margin: 0.5,
        filename: 'Leonardo_Trogi_CV.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: {
          scale: 3,       // Aumenta la risoluzione
          backgroundColor: null // Tenta di catturare la sfumatura
        },
        jsPDF: {
          unit: 'in',
          format: 'letter',
          orientation: 'portrait'
        }
      };
      html2pdf().from(element).set(opt).save();
    }

    downloadBtn.addEventListener('click', downloadPDF);
  </script>
</body>
</html>
